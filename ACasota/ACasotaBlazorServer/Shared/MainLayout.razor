@using ACasotaBlazorServer.Data;
@using Microsoft.AspNetCore.Identity;
@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime
@inject UserManager<ApplicationUser> _userManager

<PageTitle>ACasota</PageTitle>

<AuthorizeView Context="AuthorizeAdmin">
    <Authorized>
		<NavMenu />
		<main class="content">
			<nav class="navbar navbar-top navbar-expand navbar-dashboard navbar-dark ps-0 pe-2 pb-0">
				<div class="container-fluid px-0">
					<div class="d-flex justify-content-right w-100" id="navbarSupportedContent">
						<!-- Navbar links -->
						<ul class="navbar-nav align-items-center">
							<li class="nav-item dropdown ms-lg-3">
								<a class="nav-link dropdown-toggle pt-1 px-0" href="#" role="button" data-bs-toggle="dropdown"
								   aria-expanded="false">
									<div class="media d-flex align-items-center">
										<img class="avatar rounded-circle" alt="Image placeholder"
											 src="../assets/img/team/profile-picture-3.jpg">
										<div class="media-body ms-2 text-dark align-items-center d-none d-lg-block">
											<span class="mb-0 font-small fw-bold text-gray-900">@user_auth.FirstName @user_auth.LastName</span>
										</div>
									</div>
								</a>
								<div class="dropdown-menu dashboard-dropdown dropdown-menu-end mt-2 py-1">
									<a class="dropdown-item d-flex align-items-center" href="/Profile">
										<svg class="dropdown-icon text-gray-400 me-2" fill="currentColor" viewBox="0 0 20 20"
											 xmlns="http://www.w3.org/2000/svg">
											<path fill-rule="evenodd"
												  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z"
												  clip-rule="evenodd"></path>
										</svg>
										My Profile
									</a>
									<div role="separator" class="dropdown-divider my-1"></div>
									<a class="dropdown-item d-flex align-items-center" href="Identity/Account/Logout">
										<svg class="dropdown-icon text-danger me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
											 xmlns="http://www.w3.org/2000/svg">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
												  d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
											</path>
										</svg>
										Logout
									</a>
								</div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			@Body
		</main>
    </Authorized>
    <NotAuthorized>
		<NavMenu />
		<!-- Masthead-->
		<header class="masthead">
			<div class="container-homepage">
				<div class="row">
					<div class="col-md-6-custom">
						<div class="masthead-subheading">Welcome To Our Studio!</div>
						<div class="masthead-heading text-uppercase">It's Nice To Meet You</div>
						<a class="btn-homepage btn-homepage-primary btn-homepage-xl text-uppercase" href="#services">Tell Me More</a>
					</div>
					<div class="col-md-6-custom">
						<img class="image-Background" src="../../assets/img/homepage/img/catowner2.png" alt="">
					</div>
				</div>
			</div>
		</header>
		<!-- Services-->
		<section class="page-section bg-white" id="atividades">
			<div class="container-homepage">
				<div class="text-center">
					<h2 class="section-heading text-uppercase">As nossas atividades</h2>
					<h3 class="section-subheading text-muted"> </h3>
				</div>
				<div class="row text-center">
					<div class="col-md-4">
						<span class="fa-stack fa-4x">
							<i class="fas fa-circle fa-stack-2x text-primary-homepage"></i>
							<i class="fas fa-paw fa-stack-1x fa-inverse"></i>
						</span>
						<h4 class="my-3">Resgate Animal</h4>
						<p class="text-muted">
							Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam
							architecto quo inventore harum ex magni, dicta impedit.
						</p>
					</div>
					<div class="col-md-4">
						<span class="fa-stack fa-4x">
							<i class="fas fa-circle fa-stack-2x text-primary-homepage"></i>
							<i class="fas fa-users fa-stack-1x fa-inverse"></i>
						</span>
						<h4 class="my-3">Eventos Volutarios</h4>
						<p class="text-muted">
							Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam
							architecto quo inventore harum ex magni, dicta impedit.
						</p>
					</div>
					<div class="col-md-4">
						<span class="fa-stack fa-4x">
							<i class="fas fa-circle fa-stack-2x text-primary-homepage"></i>
							<i class="fas fa-cat fa-stack-1x fa-inverse"></i>
						</span>
						<h4 class="my-3">Adoção Responsável</h4>
						<p class="text-muted">
							Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minima maxime quam
							architecto quo inventore harum ex magni, dicta impedit.
						</p>
					</div>
				</div>
			</div>
		</section>
		<!-- Portfolio Grid-->
		<section class="page-section" id="animal">
			<div class="container-homepage">
				<div class="text-center">
					<h2 class="section-heading text-uppercase">Os nossos animais</h2>
					<h3 class="section-subheading text-muted">Todos precisam de uma casa</h3>
				</div>
				<div class="row">
					<div class="col-lg-4 col-sm-6 mb-4">
						<!-- Portfolio item 1-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/1.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Threads</div>
								<div class="portfolio-caption-subheading text-muted">Illustration</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-sm-6 mb-4">
						<!-- Portfolio item 2-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/2.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Explore</div>
								<div class="portfolio-caption-subheading text-muted">Graphic Design</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-sm-6 mb-4">
						<!-- Portfolio item 3-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/3.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Finish</div>
								<div class="portfolio-caption-subheading text-muted">Identity</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-sm-6 mb-4 mb-lg-0">
						<!-- Portfolio item 4-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/4.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Lines</div>
								<div class="portfolio-caption-subheading text-muted">Branding</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-sm-6 mb-4 mb-sm-0">
						<!-- Portfolio item 5-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/5.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Southwest</div>
								<div class="portfolio-caption-subheading text-muted">Website Design</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4 col-sm-6">
						<!-- Portfolio item 6-->
						<div class="portfolio-item">
							<img class="img-fluid" src="../../assets/img/homepage/img/portfolio/6.jpg" alt="..." />
							<div class="portfolio-caption">
								<div class="portfolio-caption-heading">Window</div>
								<div class="portfolio-caption-subheading text-muted">Photography</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- About-->
		<section class="page-section bg-white" id="about">
			<div class="container-homepage">
				<div class="text-center">
					<h2 class="section-heading text-uppercase">About</h2>
					<h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
				</div>
				<ul class="timeline">
					<li>
						<div class="timeline-image">
							<img class="rounded-circle img-fluid" src="../../assets/img/homepage/img/about/1.jpg"
								 alt="..." />
						</div>
						<div class="timeline-panel">
							<div class="timeline-heading">
								<h4>2009-2011</h4>
								<h4 class="subheading">Our Humble Beginnings</h4>
							</div>
							<div class="timeline-body">
								<p class="text-muted">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut
									voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero
									unde, sed, incidunt et ea quo dolore laudantium consectetur!
								</p>
							</div>
						</div>
					</li>
					<li class="timeline-inverted">
						<div class="timeline-image">
							<img class="rounded-circle img-fluid" src="../../assets/img/homepage/img/about/2.jpg"
								 alt="..." />
						</div>
						<div class="timeline-panel">
							<div class="timeline-heading">
								<h4>March 2011</h4>
								<h4 class="subheading">An Agency is Born</h4>
							</div>
							<div class="timeline-body">
								<p class="text-muted">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut
									voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero
									unde, sed, incidunt et ea quo dolore laudantium consectetur!
								</p>
							</div>
						</div>
					</li>
					<li>
						<div class="timeline-image">
							<img class="rounded-circle img-fluid" src="../../assets/img/homepage/img/about/3.jpg"
								 alt="..." />
						</div>
						<div class="timeline-panel">
							<div class="timeline-heading">
								<h4>December 2015</h4>
								<h4 class="subheading">Transition to Full Service</h4>
							</div>
							<div class="timeline-body">
								<p class="text-muted">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut
									voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero
									unde, sed, incidunt et ea quo dolore laudantium consectetur!
								</p>
							</div>
						</div>
					</li>
					<li class="timeline-inverted">
						<div class="timeline-image">
							<img class="rounded-circle img-fluid" src="../../assets/img/homepage/img/about/4.jpg"
								 alt="..." />
						</div>
						<div class="timeline-panel">
							<div class="timeline-heading">
								<h4>July 2020</h4>
								<h4 class="subheading">Phase Two Expansion</h4>
							</div>
							<div class="timeline-body">
								<p class="text-muted">
									Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut
									voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero
									unde, sed, incidunt et ea quo dolore laudantium consectetur!
								</p>
							</div>
						</div>
					</li>
					<li class="timeline-inverted">
						<div class="timeline-image">
							<h4>
								Be Part
								<br />
								Of Our
								<br />
								Story!
							</h4>
						</div>
					</li>
				</ul>
			</div>
		</section>
		<!-- Team-->
		<section class="page-section" id="team">
			<div class="container-homepage">
				<div class="text-center">
					<h2 class="section-heading text-uppercase">Our Amazing Team</h2>
					<h3 class="section-subheading text-muted">Lorem ipsum dolor sit amet consectetur.</h3>
				</div>
				<div class="row">
					<div class="col-lg-4">
						<div class="team-member">
							<img class="mx-auto rounded-circle" src="../../assets/img/homepage/img/team/1.jpg" alt="..." />
							<h4>Parveen Anand</h4>
							<p class="text-muted">Lead Designer</p>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Parveen Anand Twitter Profile">
								<i class="fab fa-twitter"></i>
							</a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Parveen Anand Facebook Profile">
								<i class="fab fa-facebook-f"></i>
							</a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Parveen Anand LinkedIn Profile">
								<i class="fab fa-linkedin-in"></i>
							</a>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="team-member">
							<img class="mx-auto rounded-circle" src="../../assets/img/homepage/img/team/2.jpg" alt="..." />
							<h4>Diana Petersen</h4>
							<p class="text-muted">Lead Marketer</p>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Diana Petersen Twitter Profile">
								<i class="fab fa-twitter"></i>
							</a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!"
							   aria-label="Diana Petersen Facebook Profile"><i class="fab fa-facebook-f"></i></a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!"
							   aria-label="Diana Petersen LinkedIn Profile"><i class="fab fa-linkedin-in"></i></a>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="team-member">
							<img class="mx-auto rounded-circle" src="../../assets/img/homepage/img/team/3.jpg" alt="..." />
							<h4>Larry Parker</h4>
							<p class="text-muted">Lead Developer</p>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Larry Parker Twitter Profile">
								<i class="fab fa-twitter"></i>
							</a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Larry Parker Facebook Profile">
								<i class="fab fa-facebook-f"></i>
							</a>
							<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Larry Parker LinkedIn Profile">
								<i class="fab fa-linkedin-in"></i>
							</a>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-8 mx-auto text-center">
						<p class="large text-muted">
							Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut eaque,
							laboriosam veritatis, quos non quis ad perspiciatis, totam corporis ea, alias ut unde.
						</p>
					</div>
				</div>
			</div>
		</section>
		<!-- Contact-->
		<section class="page-section" id="contact">
			<div class="container-homepage">
				<div class="text-center">
					<h2 class="section-heading text-uppercase">Contact Us</h2>
				</div>
				<div class="container-homepage px-4 px-lg-5">
					<div class="row gx-4 gx-lg-5">
						<div class="col-md-4 mb-3 mb-md-0">
							<div class="card py-4 h-100">
								<div class="card-body text-center">
									<i class="fas fa-map-marked-alt text-primary-homepage mb-2"></i>
									<h4 class="text-uppercase m-0">Address</h4>
									<hr class="my-4 mx-auto" />
									<div class="small text-black-50">4923 Market Street, Orlando FL</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 mb-3 mb-md-0">
							<div class="card py-4 h-100">
								<div class="card-body text-center">
									<i class="fas fa-envelope text-primary-homepage mb-2"></i>
									<h4 class="text-uppercase m-0">Email</h4>
									<hr class="my-4 mx-auto" />
									<div class="small text-black-50">hello@yourdomain.com</div>
								</div>
							</div>
						</div>
						<div class="col-md-4 mb-3 mb-md-0">
							<div class="card py-4 h-100">
								<div class="card-body text-center">
									<i class="fas fa-mobile-alt text-primary-homepage mb-2"></i>
									<h4 class="text-uppercase m-0">Phone</h4>
									<hr class="my-4 mx-auto" />
									<div class="small text-black-50">+1 (555) 902-8832</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- Footer-->
		<footer class="footer py-4">
			<div class="container-homepage">
				<div class="row align-items-center">
					<div class="col-lg-4 text-lg-start">Copyright &copy; Your Website 2022</div>
					<div class="col-lg-4 my-3 my-lg-0">
						<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="Twitter">
							<i class="fab fa-twitter"></i>
						</a>
						<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="https://www.facebook.com/acasota/?locale=pt_PT" aria-label="Facebook">
							<i class="fab fa-facebook-f"></i>
						</a>
						<a class="btn-homepage btn-homepage-dark btn-homepage-social mx-2" href="#!" aria-label="LinkedIn">
							<i class="fab fa-linkedin-in"></i>
						</a>
					</div>
					<div class="col-lg-4 text-lg-end">
						<a class="link-dark text-decoration-none me-3" href="#!">Privacy Policy</a>
						<a class="link-dark text-decoration-none" href="#!">Terms of Use</a>
					</div>
				</div>
			</div>
		</footer>
    </NotAuthorized>
</AuthorizeView>
<AnchorNavigation />

@code{
    [CascadingParameter]
    public Task<AuthenticationState> AuthenticationStateTask { get; set; }
    public ApplicationUser user_auth { get; set; } = new ApplicationUser();

	protected override async Task OnAfterRenderAsync(bool firstRender)
	{
		if (firstRender)
		{
			await JSRuntime.InvokeVoidAsync("NavScrollSpy");
		}
	}

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateTask;
        var user = authState.User;

        if (user.Identity.IsAuthenticated)
        {
            user_auth = await _userManager.GetUserAsync(user);
        }
    }
}
